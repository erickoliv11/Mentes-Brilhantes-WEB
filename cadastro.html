<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            min-height: 100vh; /* Altura m√≠nima ao inv√©s de altura fixa */
            display: flex;
            overflow-x: hidden; /* Evita scroll horizontal */
            min-width: 320px; /* Largura m√≠nima para evitar quebras */
        }

        .container {
            display: flex;
            width: 100%;
            min-height: 100vh; /* Altura m√≠nima ao inv√©s de altura fixa */
        }

        .left-side {
            background: linear-gradient(135deg, #4A90E2 0%, #7BB3F0 100%);
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .logo {
            width: 150px;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo img {
            width: 220px;
            height: 220px;
            object-fit: contain;
        }

        .right-side {
            flex: 1;
            background: #f5f5f5;
            display: flex;
            align-items: flex-start; /* Alinha no topo para evitar problemas com expans√£o */
            justify-content: center;
            padding: 15px;
            overflow-y: auto; /* Permite scroll vertical quando necess√°rio */
            overflow-x: hidden; /* Evita scroll horizontal */
            padding-top: 20px; /* Espa√ßo no topo */
            padding-bottom: 20px; /* Espa√ßo no fundo */
        }

        .register-form {
            width: 100%;
            max-width: 480px;
            min-height: fit-content; /* Ajusta ao conte√∫do */
            display: flex;
            flex-direction: column;
        }

        .form-title {
            font-size: 21px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }

        .profile-photo-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 10px;
        }

        .profile-photo-container {
            position: relative;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 3px solid #4A90E2; 
            overflow: hidden;
            background: #fff;
            cursor: pointer;
            margin-bottom: 5px;
        }

        .profile-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }

        .profile-photo-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4A90E2;
            font-size: 20px;
        }

        .profile-photo-label {
            font-size: 11px;
            color: #666;
            cursor: pointer;
        }

        .profile-photo-input {
            display: none;
        }

        .form-group {
            margin-bottom: 9px;
            position: relative; /* Para controlar melhor o layout dos erros */
        }

        .form-row {
            display: flex;
            gap: 7px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .form-row-3 {
            display: flex;
            gap: 5px;
        }

        .form-row-3 .form-group {
            flex: 1;
        }

        .form-label {
            display: block;
            font-size: 12px;
            font-weight: 600;
            color: #333;
            margin-bottom: 3px;
        }

        .form-input {
            width: 100%;
            padding: 7px 9px;
            border: 2px solid #ddd;
            border-radius: 16px;
            font-size: 12px;
            color: #666;
            background: white;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #00bcd4;
        }

        .form-input.error {
            border-color: #ff4444;
        }

        .error-message {
            font-size: 10px;
            color: #ff4444;
            margin-top: 2px;
            display: none;
            min-height: 0; /* N√£o ocupa espa√ßo quando oculta */
            line-height: 1.2;
            position: relative; /* Evita que empurre outros elementos */
        }

        .register-btn {
            width: 100%;
            padding: 9px;
            background: linear-gradient(135deg, #4A90E2 0%, #7BB3F0 100%);
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            margin: 9px 0 7px 0;
            transition: transform 0.2s ease;
        }

        .register-btn:hover {
            transform: translateY(-2px);
        }

        .form-links {
            text-align: center;
            margin: 7px 0;
        }

        .form-link {
            color: #666;
            text-decoration: underline;
            font-size: 11px;
            cursor: pointer;
            display: block;
            margin: 5px 0;
        }

        .form-link:hover {
            color: #00bcd4;
        }

        .social-login {
            display: flex;
            justify-content: center;
            gap: 11px;
            margin-top: 7px;
        }

        .social-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: 2px solid #ddd;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .social-btn:hover {
            border-color: #00bcd4;
            transform: translateY(-2px);
        }

        .social-btn svg {
            width: 17px;
            height: 17px;
        }

        .login-link {
            text-align: center;
            margin-top: 9px;
            padding-top: 7px;
            border-top: 1px solid #ddd;
        }

        .login-link a {
            color: #4A90E2;
            text-decoration: none;
            font-weight: 600;
            font-size: 12px;
        }

        .login-link a:hover {
            text-decoration: underline;
        }

        .terms {
            font-size: 9px;
            color: #666;
            text-align: center;
            margin-top: 7px;
            line-height: 1.25;
        }

        .terms a {
            color: #4A90E2;
            text-decoration: none;
        }

        .terms a:hover {
            text-decoration: underline;
        }

        /* Modal de sucesso */
        .success-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .success-modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            max-width: 400px;
            margin: 20px;
        }

        .success-modal h2 {
            color: #00bcd4;
            margin-bottom: 15px;
        }

        .success-modal p {
            color: #666;
            margin-bottom: 20px;
        }

        .success-modal button {
            padding: 10px 30px;
            background: #00bcd4;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
        }

        /* Modal de informa√ß√£o para respons√°vel - NOVO */
        .info-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1001;
            animation: fadeIn 0.3s ease-in-out;
        }

        .info-modal-content {
            background: white;
            padding: 35px 30px;
            border-radius: 20px;
            text-align: center;
            max-width: 450px;
            margin: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .info-modal-content::before {
            content: 'üë§';
            font-size: 40px;
            display: block;
            margin-bottom: 15px;
        }

        .info-modal h2 {
            color: #4A90E2;
            margin-bottom: 20px;
            font-size: 22px;
            font-weight: 700;
        }

        .info-modal p {
            color: #555;
            margin-bottom: 15px;
            font-size: 15px;
            line-height: 1.6;
        }

        .info-modal .highlight {
            color: #4A90E2;
            font-weight: 600;
            background: rgba(74, 144, 226, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
        }

        .info-modal-button {
            padding: 12px 40px;
            background: linear-gradient(135deg, #4A90E2 0%, #7BB3F0 100%);
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .info-modal-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(74, 144, 226, 0.4);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Responsividade aprimorada */
        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
            }
            
            .left-side {
                min-height: 200px;
                flex: 0;
            }
            
            .logo img {
                width: 180px;
                height: 180px;
            }
            
            .right-side {
                padding: 20px;
                overflow-y: auto;
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                height: auto;
                min-height: 100vh;
            }
            
            .left-side {
                min-height: 150px;
                flex: 0;
                padding: 20px 0;
            }
            
            .logo img {
                width: 120px;
                height: 120px;
            }
            
            .right-side {
                min-height: auto;
                padding: 20px 15px 30px 15px; /* Mais espa√ßo embaixo */
                overflow-y: auto;
                flex: 1;
                align-items: flex-start; /* Mant√©m alinhamento no topo */
            }
            
            .register-form {
                max-width: none;
                width: 100%;
            }
            
            .form-title {
                font-size: 18px;
                margin-bottom: 15px;
            }
            
            .form-row, .form-row-3 {
                flex-direction: column;
                gap: 0;
            }
            
            .form-group {
                margin-bottom: 12px;
            }
            
            .form-input {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .form-label {
                font-size: 13px;
                margin-bottom: 5px;
            }
            
            .register-btn {
                padding: 12px;
                font-size: 16px;
                margin: 15px 0 10px 0;
            }
            
            .social-login {
                gap: 15px;
                margin-top: 15px;
            }
            
            .social-btn {
                width: 40px;
                height: 40px;
            }
            
            .social-btn svg {
                width: 20px;
                height: 20px;
            }

            /* Modal responsivo */
            .info-modal-content {
                margin: 15px;
                padding: 25px 20px;
                max-width: none;
            }

            .info-modal h2 {
                font-size: 20px;
                margin-bottom: 15px;
            }

            .info-modal p {
                font-size: 14px;
                margin-bottom: 12px;
            }

            .info-modal-button {
                padding: 10px 30px;
                font-size: 14px;
            }
        }

        @media (max-width: 480px) {
            body {
                overflow-x: hidden;
            }
            
            .right-side {
                padding: 15px 10px 25px 10px; /* Mais espa√ßo embaixo */
            }
            
            .register-form {
                width: 100%;
                max-width: none;
            }
            
            .form-title {
                font-size: 16px;
                margin-bottom: 12px;
            }
            
            .profile-photo-container {
                width: 50px;
                height: 50px;
            }
            
            .profile-photo-placeholder {
                font-size: 18px;
            }
            
            .profile-photo-label {
                font-size: 10px;
            }
            
            .form-input {
                padding: 8px 10px;
                font-size: 13px;
                border-radius: 12px;
            }
            
            .form-label {
                font-size: 12px;
            }
            
            .register-btn {
                padding: 10px;
                font-size: 14px;
                border-radius: 12px;
            }
            
            .form-links {
                margin: 10px 0;
            }
            
            .form-link {
                font-size: 12px;
                margin: 8px 0;
            }
            
            .terms {
                font-size: 10px;
                line-height: 1.3;
                margin-top: 10px;
            }
            
            .login-link {
                margin-top: 12px;
                padding-top: 10px;
            }
            
            .login-link a {
                font-size: 13px;
            }
            
            .success-modal-content {
                margin: 15px;
                padding: 20px;
                border-radius: 15px;
            }
            
            .success-modal h2 {
                font-size: 18px;
                margin-bottom: 10px;
            }
            
            .success-modal p {
                font-size: 14px;
                margin-bottom: 15px;
            }
            
            .success-modal button {
                padding: 8px 25px;
                font-size: 14px;
                border-radius: 15px;
            }

            /* Modal informativo responsivo para mobile */
            .info-modal-content {
                padding: 20px 15px;
            }

            .info-modal-content::before {
                font-size: 35px;
                margin-bottom: 12px;
            }

            .info-modal h2 {
                font-size: 18px;
                margin-bottom: 12px;
            }

            .info-modal p {
                font-size: 13px;
                margin-bottom: 10px;
            }

            .info-modal-button {
                padding: 8px 25px;
                font-size: 13px;
            }
        }

        @media (max-width: 320px) {
            .right-side {
                padding: 10px 8px 20px 8px; /* Mais espa√ßo embaixo */
            }
            
            .form-title {
                font-size: 15px;
            }
            
            .form-input {
                padding: 7px 8px;
                font-size: 12px;
            }
            
            .register-btn {
                padding: 9px;
                font-size: 13px;
            }
            
            .social-login {
                gap: 12px;
            }
            
            .social-btn {
                width: 35px;
                height: 35px;
            }
            
            .social-btn svg {
                width: 16px;
                height: 16px;
            }

            .info-modal-content {
                padding: 15px 12px;
            }

            .info-modal h2 {
                font-size: 16px;
            }

            .info-modal p {
                font-size: 12px;
            }
        }

        /* Melhorias gerais de responsividade */
        @media (orientation: landscape) and (max-height: 600px) {
            .left-side {
                min-height: 100px;
            }
            
            .logo img {
                width: 80px;
                height: 80px;
            }
            
            .right-side {
                padding: 10px 15px;
            }
            
            .form-title {
                font-size: 16px;
                margin-bottom: 8px;
            }
            
            .profile-photo-section {
                margin-bottom: 8px;
            }
            
            .form-group {
                margin-bottom: 6px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="left-side">
            <div class="logo">
                <img src="../img/LogoMB.png" alt="Logo" />
            </div>
        </div>
        
        <div class="right-side">
            <div class="register-form">
                <h1 class="form-title">Criar sua Conta</h1>
                
                <form id="registerForm">
                    <!-- Foto de Perfil -->
                    <div class="profile-photo-section">
                        <div class="profile-photo-container" onclick="document.getElementById('profilePhoto').click()">
                            <img id="profilePhotoPreview" class="profile-photo" alt="Foto de perfil">
                            <div class="profile-photo-placeholder">üì∑</div>
                        </div>
                        <label class="profile-photo-label" for="profilePhoto">Adicionar foto</label>
                        <input type="file" id="profilePhoto" class="profile-photo-input" accept="image/*">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="fullName">Nome Completo:</label>
                        <input type="text" id="fullName" class="form-input" placeholder="Digite seu nome completo">
                        <div class="error-message" id="fullNameError">Nome completo deve ser preenchido</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="email">E-mail:</label>
                        <input type="email" id="email" class="form-input" placeholder="Digite seu e-mail">
                        <div class="error-message" id="emailError">E-mail v√°lido deve ser preenchido</div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="cpf">CPF:</label>
                            <input type="text" id="cpf" class="form-input" placeholder="000.000.000-00" maxlength="14" required>
                            <div class="error-message" id="cpfError">CPF deve ter 11 d√≠gitos e ser v√°lido</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="phone">Celular:</label>
                            <input type="tel" id="phone" class="form-input" placeholder="(00) 00000-0000" maxlength="15" required>
                            <div class="error-message" id="phoneError">Celular deve ter 11 d√≠gitos (DDD + n√∫mero)</div>
                        </div>
                    </div>
                    
                    <!-- NOVA ORGANIZA√á√ÉO: CEP e RUA na mesma linha -->
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="cep">CEP:</label>
                            <input type="text" id="cep" class="form-input" placeholder="00000-000" maxlength="9">
                            <div class="error-message" id="cepError">CEP v√°lido √© obrigat√≥rio</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="street">Rua:</label>
                            <input type="text" id="street" class="form-input" placeholder="Nome da rua">
                            <div class="error-message" id="streetError">Rua deve ser preenchida</div>
                        </div>
                    </div>
                    
                    <!-- NOVA ORGANIZA√á√ÉO: BAIRRO e CIDADE trocados por N√öMERO e COMPLEMENTO -->
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="neighborhood">Bairro:</label>
                            <input type="text" id="neighborhood" class="form-input" placeholder="Bairro">
                            <div class="error-message" id="neighborhoodError">Bairro deve ser preenchido</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label" for="city">Cidade:</label>
                            <input type="text" id="city" class="form-input" placeholder="Cidade">
                            <div class="error-message" id="cityError">Cidade deve ser preenchida</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="number">N√∫mero:</label>
                            <input type="text" id="number" class="form-input" placeholder="N¬∫">
                            <div class="error-message" id="numberError">N√∫mero deve ser preenchido</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="Complemento">*Complemento:</label>
                            <input type="text" id="Complemento" class="form-input" placeholder="Apt, Bloco, Casa, etc.">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label" for="password">Senha:</label>
                            <input type="password" id="password" class="form-input" placeholder="Digite sua senha" required>
                            <div class="error-message" id="passwordError">Senha deve ter pelo menos 6 caracteres</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="confirmPassword">Confirmar Senha:</label>
                            <input type="password" id="confirmPassword" class="form-input" placeholder="Confirme sua senha" required>
                            <div class="error-message" id="confirmPasswordError">Senhas devem coincidir</div>
                        </div>
                    </div>
                    
                    <button type="submit" class="register-btn">Criar Conta</button>
                </form>
                
                <div class="form-links">
                    <a href="../index.html" class="form-link" onclick="continueWithoutLogin()">Continuar sem cadastrar</a>
                </div>
                
                <div class="social-login">
                    <div class="social-btn" onclick="registerWithApple()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.09997 22C7.78997 22.05 6.79997 20.68 5.95997 19.47C4.24997 17 2.93997 12.45 4.69997 9.39C5.56997 7.87 7.12997 6.91 8.81997 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5ZM13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z" fill="currentColor"/>
                        </svg>
                    </div>
                    <div class="social-btn" onclick="registerWithGoogle()">
                        <svg width="20" height="20" viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                    </div>
                </div>
                
                <div class="terms">
                    Ao criar uma conta, voc√™ concorda com nossos <a href="#">Termos de Uso</a> e <a href="#">Pol√≠tica de Privacidade</a>
                </div>
                
                <div class="login-link">
                    <p>J√° tem uma conta? <a href="login.html" onclick="showLogin()">Fa√ßa login</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Sucesso -->
    <div class="success-modal" id="successModal">
        <div class="success-modal-content">
            <h2>‚úÖ Conta criada com sucesso!</h2>
            <p>Seu cadastro foi realizado com sucesso. Agora voc√™ pode fazer login e aproveitar todos os nossos servi√ßos.</p>
            <button onclick="closeSuccessModal()">OK</button>
        </div>
    </div>

    <!-- Modal de Informa√ß√£o sobre Cadastro de Respons√°vel - NOVO -->
    <div class="info-modal" id="infoModal">
        <div class="info-modal-content">
            <h2>Cadastro de Respons√°vel</h2>
            <p>Voc√™ est√° iniciando o cadastro como <span class="highlight">respons√°vel</span> pela pessoa autista.</p>
            <p>Ap√≥s concluir seu cadastro, voc√™ poder√° registrar os dados da pessoa autista sob sua responsabilidade.</p>
            <p>Este processo garante maior seguran√ßa e organiza√ß√£o dos dados.</p>
            <button class="info-modal-button" onclick="closeInfoModal()">Entendi, continuar</button>
        </div>
    </div>

    <!-- Modal de Redirecionamento para Cadastro do Neurodivergente - NOVO -->
    <div class="info-modal" id="redirectModal">
        <div class="info-modal-content">
            <h2>Cadastro Conclu√≠do! üéâ</h2>
            <p>Seu cadastro como <span class="highlight">respons√°vel</span> foi realizado com sucesso!</p>
            <p>Agora voc√™ ser√° direcionado para a tela de <span class="highlight">cadastro do neurodivergente</span>.</p>
            <p>L√° voc√™ poder√° registrar os dados da pessoa autista sob sua responsabilidade.</p>
            <button class="info-modal-button" onclick="closeRedirectModal()">Continuar para o cadastro</button>
        </div>
    </div>

    <script>
        // Fun√ß√£o para mostrar o modal informativo - NOVO
        function showInfoModal() {
            document.getElementById('infoModal').style.display = 'flex';
        }

        // Fun√ß√£o para fechar o modal informativo - NOVO
        function closeInfoModal() {
            document.getElementById('infoModal').style.display = 'none';
        }

        // Mostrar modal informativo quando a p√°gina carregar - NOVO
        window.addEventListener('load', function() {
            showInfoModal();
        });

        // Fun√ß√£o para preview da foto de perfil
        document.getElementById('profilePhoto').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.getElementById('profilePhotoPreview');
                    const placeholder = document.querySelector('.profile-photo-placeholder');
                    
                    preview.src = e.target.result;
                    preview.style.display = 'block';
                    placeholder.style.display = 'none';
                };
                reader.readAsDataURL(file);
            }
        });

        // M√°scaras para os campos
        function applyCPFMask(value) {
            return value
                .replace(/\D/g, '')
                .replace(/(\d{3})(\d)/, '$1.$2')
                .replace(/(\d{3})(\d)/, '$1.$2')
                .replace(/(\d{3})(\d{1,2})/, '$1-$2')
                .replace(/(-\d{2})\d+?$/, '$1');
        }

        function applyPhoneMask(value) {
            return value
                .replace(/\D/g, '')
                .replace(/(\d{2})(\d)/, '($1) $2')
                .replace(/(\d{5})(\d)/, '$1-$2')
                .replace(/(-\d{4})\d+?$/, '$1');
        }

        function applyCEPMask(value) {
            return value
                .replace(/\D/g, '')
                .replace(/(\d{5})(\d)/, '$1-$2')
                .replace(/(-\d{3})\d+?$/, '$1');
        }

        // Fun√ß√£o para validar CPF
        function isValidCPF(cpf) {
            cpf = cpf.replace(/\D/g, '');
            if (cpf.length !== 11) return false;
            
            // Verifica sequ√™ncias iguais (CPFs inv√°lidos conhecidos)
            if (/^(\d)\1{10}$/.test(cpf)) return false;
            
            // Valida√ß√£o dos d√≠gitos verificadores
            let sum = 0;
            for (let i = 0; i < 9; i++) {
                sum += parseInt(cpf[i]) * (10 - i);
            }
            let digit1 = (sum * 10) % 11;
            if (digit1 === 10) digit1 = 0;
            
            sum = 0;
            for (let i = 0; i < 10; i++) {
                sum += parseInt(cpf[i]) * (11 - i);
            }
            let digit2 = (sum * 10) % 11;
            if (digit2 === 10) digit2 = 0;
            
            return digit1 === parseInt(cpf[9]) && digit2 === parseInt(cpf[10]);
        }

        // Fun√ß√£o para validar email
        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // Fun√ß√£o para mostrar erro
        function showError(fieldId, errorId, message) {
            const field = document.getElementById(fieldId);
            const error = document.getElementById(errorId);
            
            field.classList.add('error');
            error.textContent = message;
            error.style.display = 'block';
        }

        // Fun√ß√£o para limpar erro
        function clearError(fieldId, errorId) {
            const field = document.getElementById(fieldId);
            const error = document.getElementById(errorId);
            
            field.classList.remove('error');
            error.style.display = 'none';
        }

        // Aplicar m√°scaras aos campos
        document.getElementById('cpf').addEventListener('input', function(e) {
            e.target.value = applyCPFMask(e.target.value);
        });

        document.getElementById('phone').addEventListener('input', function(e) {
            e.target.value = applyPhoneMask(e.target.value);
        });

        document.getElementById('cep').addEventListener('input', function(e) {
            e.target.value = applyCEPMask(e.target.value);
        });

        // Fun√ß√£o para buscar CEP
        document.getElementById('cep').addEventListener('blur', function(e) {
            const cep = e.target.value.replace(/\D/g, '');
            
            if (cep.length === 8) {
                // Limpar campos antes de buscar
                document.getElementById('street').value = '';
                document.getElementById('neighborhood').value = '';
                document.getElementById('city').value = '';
                
                // Buscar informa√ß√µes do CEP
                fetch(`https://viacep.com.br/ws/${cep}/json/`)
                    .then(response => response.json())
                    .then(data => {
                        if (!data.erro) {
                            document.getElementById('street').value = data.logradouro || '';
                            document.getElementById('neighborhood').value = data.bairro || '';
                            document.getElementById('city').value = data.localidade || '';
                            
                            // Limpar erros se preencheu os campos
                            if (data.logradouro) clearError('street', 'streetError');
                            if (data.bairro) clearError('neighborhood', 'neighborhoodError');
                            if (data.localidade) clearError('city', 'cityError');
                            clearError('cep', 'cepError');
                        } else {
                            showError('cep', 'cepError', 'CEP n√£o encontrado');
                        }
                    })
                    .catch(error => {
                        console.error('Erro ao buscar CEP:', error);
                        showError('cep', 'cepError', 'Erro ao buscar CEP. Verifique sua conex√£o');
                    });
            }
        });

        // Valida√ß√£o completa do formul√°rio
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            let isValid = true;
            
            // Limpar todos os erros primeiro
            const errorElements = document.querySelectorAll('.error-message');
            errorElements.forEach(error => error.style.display = 'none');
            
            const inputElements = document.querySelectorAll('.form-input');
            inputElements.forEach(input => input.classList.remove('error'));
            
            // Validar nome completo - OBRIGAT√ìRIO
            const fullName = document.getElementById('fullName').value.trim();
            if (!fullName || fullName.length < 2) {
                showError('fullName', 'fullNameError', 'Nome completo deve ser preenchido');
                isValid = false;
            }
            
            // Validar email - OBRIGAT√ìRIO
            const email = document.getElementById('email').value.trim();
            if (!email || !isValidEmail(email)) {
                showError('email', 'emailError', 'E-mail v√°lido deve ser preenchido');
                isValid = false;
            }
            
            // Validar CPF (deve ter exatamente 11 d√≠gitos)
            const cpf = document.getElementById('cpf').value;
            const cpfNumbers = cpf.replace(/\D/g, '');
            if (!cpf || cpfNumbers.length !== 11 || !isValidCPF(cpf)) {
                showError('cpf', 'cpfError', 'CPF deve ter 11 d√≠gitos e ser v√°lido');
                isValid = false;
            }
            
            // Validar telefone (deve ter 11 d√≠gitos: DDD + 9 d√≠gitos)
            const phone = document.getElementById('phone').value.replace(/\D/g, '');
            if (!phone || phone.length !== 11) {
                showError('phone', 'phoneError', 'Celular deve ter 11 d√≠gitos (DDD + n√∫mero)');
                isValid = false;
            }
            
            // Validar CEP - OBRIGAT√ìRIO
            const cep = document.getElementById('cep').value.replace(/\D/g, '');
            if (!cep || cep.length !== 8) {
                showError('cep', 'cepError', 'CEP v√°lido deve ser preenchido');
                isValid = false;
            }
            
            // Validar campos de endere√ßo - Obrigat√≥rios quando CEP for preenchido
            const street = document.getElementById('street').value.trim();
            if (!street) {
                showError('street', 'streetError', 'Rua deve ser preenchida');
                isValid = false;
            }
            
            const neighborhood = document.getElementById('neighborhood').value.trim();
            if (!neighborhood) {
                showError('neighborhood', 'neighborhoodError', 'Bairro deve ser preenchido');
                isValid = false;
            }
            
            const city = document.getElementById('city').value.trim();
            if (!city) {
                showError('city', 'cityError', 'Cidade deve ser preenchida');
                isValid = false;
            }
            
            const number = document.getElementById('number').value.trim();
            if (!number) {
                showError('number', 'numberError', 'N√∫mero deve ser preenchido');
                isValid = false;
            }
            
            // Validar senha
            const password = document.getElementById('password').value;
            if (!password || password.length < 6) {
                showError('password', 'passwordError', 'Senha deve ter pelo menos 6 caracteres');
                isValid = false;
            }
            
            // Validar confirma√ß√£o de senha
            const confirmPassword = document.getElementById('confirmPassword').value;
            if (!confirmPassword || password !== confirmPassword) {
                showError('confirmPassword', 'confirmPasswordError', 'Senhas devem coincidir');
                isValid = false;
            }
            
            // Se todos os campos est√£o v√°lidos, mostrar sucesso
            if (isValid) {
                showSuccessModal();
            } else {
                // Scroll para o primeiro erro
                const firstError = document.querySelector('.form-input.error');
                if (firstError) {
                    firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    firstError.focus();
                }
            }
        });

        // Fun√ß√£o para mostrar modal de sucesso
        function showSuccessModal() {
            document.getElementById('successModal').style.display = 'flex';
        }

        // Fun√ß√£o para fechar modal de sucesso
        function closeSuccessModal() {
            document.getElementById('successModal').style.display = 'none';
            // Mostrar modal de redirecionamento para cadastro do neurodivergente
            setTimeout(() => {
                showRedirectModal();
            }, 500);
        }

        // Fun√ß√£o para mostrar modal de redirecionamento - NOVO
        function showRedirectModal() {
            document.getElementById('redirectModal').style.display = 'flex';
        }

        // Fun√ß√£o para fechar modal de redirecionamento - NOVO
        function closeRedirectModal() {
            document.getElementById('redirectModal').style.display = 'none';
            // Redirecionar para a p√°gina de cadastro do neurodivergente
            window.location.href = "cadastroneuro.html";
        }

        function showForgotPassword() {
            // Implementar funcionalidade
        }

        function continueWithoutLogin() {
            // Implementar funcionalidade
        }

        function registerWithApple() {
            // Implementar funcionalidade
        }

        function registerWithGoogle() {
            // Implementar funcionalidade
        }

        function showLogin() {
            // Implementar funcionalidade
        }
    </script>